@{
use Scabbia\Extensions\Logger\QuickProfiler;
use Scabbia\Extensions\Http\Http;
}

    @{ QuickProfiler::init(); }

    <script type="text/javascript">
        // main shortcuts
        $l.dom.setEvent(
            $l('body'),
            'keypress',
            function(ev, element) {
                var code = (ev.keyCode ? ev.keyCode : ev.which);

                if (
                    document.activeElement.getAttribute('contenteditable') != null ||
                        document.activeElement.tagName == 'TEXTAREA' ||
                        document.activeElement.tagName == 'SELECT' ||
                        document.activeElement.tagName == 'INPUT'
                    ) {
                    return;
                }

                if (code == 'q'.charCodeAt(0)) {
                    pqp();
                    return false;
                }
            }
        );

        $l.contentEnd();

        tinymce.init({
            selector: ".cleditor",
            theme: "modern",
            plugins: [
                 "advlist autolink link image lists charmap print preview hr anchor pagebreak spellchecker",
                 "searchreplace wordcount visualblocks visualchars code fullscreen insertdatetime media nonbreaking",
                 "save table contextmenu directionality emoticons template paste textcolor"
           ],
           content_css: "css/content.css"
        });
    </script>

</body>
</html>
